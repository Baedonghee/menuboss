export const defaultPreImage =
  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjYAAAFUCAYAAAA3Ynb5AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABJiSURBVHgB7d0LixTHGgbgjjcURVEURVEMihAI5P//jEBAEIQQiWRRNqysrGyQnPMttHT6dFdVz+Vk5pvngSXG7enbTFLvVH1V/d3JycnfHQBAApc6AIAkBBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgjSsdcJC+fv3avX79+uKfu+Dy5cvdjRs3ups3b3b37t3rrl271gEsJdjAgYpAsyuhJsS5nJ6eXvwcHR11t27d6p4+fSrgAIsYigJ2UgSc6FF6//79TgUwYLcJNsBO+/DhQ/fmzZvu/Py8A6gRbICdF6Hm7du3wg1QJdgAe0G4AVoINsDe6MONmhtgjmAD7JUINzFrCmCKYAPsnSgoPjk56QDGBBtgL717986QFPA/BBtgL0WoMSQFjAk2wN6KISmzpIAhwQbYa3ptgCHBBmhy+/bt7u7du9+e3RQPrYx/j5/4c4iHWMa/x7ZLxIMvr1+/3q3i+PhYrQ3wjYdgAlURZr7//vuLP0eQiMLdCC/Pnj27+LtYWyae7fT48eOLh1eGn3/+uXn/L1++vPhn7CP2vXR4KYakHj161AHosQF2RoSiV69eXfT8LPHx48cOIAg2wE6JYa0XL14sCjcxFBW9PQCCDbBzItw8f/78W+1OixgiAxBsgJ0UdT0PHz5s3v7Tp08dgGAD7KwHDx58m4VVYzgKCIINsNOW9NoINoBgA+y0e/fuNdfafP78uQMOm2AD7Lz79+83bXd2dtYBh02wARaJ3pNYKXg4HTtWDY6/WzKLaYnotWkRdTbCDRw2Kw8Di9y5c+fiZ+jJkyfdNkUBcQSpltAS2yxd4A/IQ48NsBeiR6iFHhs4bIINsBfGvURzPBATDptgA+yFGF5qqeH58uVLBxwuwQbYCxFqWhbr02MDh02wAfZGS53N+fl5BxwuwQbYG62znfTawOESbIC9IdgANYINsDe2tQAgkIdgA+yNKB4WboASwQaoWjq0s82hIMEGKBFsgKoIKqenp83bn5ycdNvSMuUbOFyCDdDk3bt3TVOpY5ujo6NuW65evdoBzPEQTKBJBJa3b992t27d6p4+fTq5TYSf6K0xKwn4twg2QLMIN6UhqePj4w7g32QoCtgramyAEj02wM6KIa2zs7N//J2HXAIlgg2ws6KmZxxsAEoMRQE7SxEysJRgAwCkIdgAAGkINgBAGoINAJCGYAMApCHYAABpCDYAQBqCDQCQhmADAKQh2AAAaQg2AEAagg0AkIZgAwCkIdgAAGkINgBAGoINAJCGYAMApCHYAABpCDYAQBqCDQCQhmADAKQh2AAAaQg2AEAagg0AkIZgAwfq8uXL3SpKr7t27Vq3yf2tco7xmlWvDdh/352cnPzdAQAkoMcGAEhDsAEA0hBsAIA0BBsAIA3BBgBI40oHcOC+fv168RPOz88vpq2vO218uM9V1abP/z+OAftGsOEg/PLLL7MNwN27d7tnz551SxwdHXV//PHH7O9/+OGHbw3G69evu025efPmt3P98OFD9/79+9ltf/zxx9mG+ddff+1OTk4mf/f48ePuwYMHF39++/Ztd3p6Ornd8+fPuzt37nRzWl9b2m5KHzji/sb9uHfv3uLGOT4Lx8fH3efPny+OPffZiOPcunWru3379sVxWvf76dOnRdc056effpo8xsePHy/2v+4xbty40b169aqDTAQb0js7Oyt+q41GKH7f+u08GpNSqOkb3X7b6AHYlAhhvS9fvhS3jeDz6NGjyd+Vzikau17cu5btppReOwwipe2m9L0UcQ1xfyNkRhCLQNby2ggFcW9aejpimwiA8RPHefHixWyIinN59+7dxt7vqc9jnHt89tbtpelduqQagXx8qkmv1tBEI9HauMa+ovEquX79+rc/L220a1pDR/jzzz8n/752vf0xSoFwGN6m1F7bcowlIqjU3pc41ps3b1YOBvHeR+/S1OcpAsfc71Y1vr8RrH7//feNhZpghWYyEmxIr6W7PoYPWkTjUmu8huFjkw1dWNLT0fdojNVCTd/Ylc59GN7mjt3y2k3en3gP597rUihZIl4/Hv6Lv4vAsWnD3pS4tlIv4arU15CRYEN6tSGb0A9HlcS38pYAFDUZS47datzT0WKqjqb02qtXrzZtt84w1JJep6Wm9hfva4SaTfV0xD0d7it6i7Zh2Jsy1/u2yWNAFmpsSK+l8eyHZ4ahZGjJt/LWXpUofF1ilZ6gaBCfPHnyj7+Lgtk5w+tv3W5KKdANr6O0XfTsDBve2LYWTqZ+H4G0dL/iGHGs/pqi16d07f02ffHzX3/91W3D8HO06Z6/qWNAFoINqS2ZDhu9MXMNdnzjb9Vao/Ly5ctuVa2zYeL4se3wujZROFxrEDdROByzv8Y9Q1FHU+o1G/dAxLWWelRi/zFDa3w9MewTw45zhu9rhKK5GWZj8T60Btrhexbn1xpuInDVhgp7tZ432EeCDaktGeqYmx3VUlfTGzZa69So1CwZ4hoHtpZhologLDWI/YylOf251LabOkbMfCoFm/FrSlO5IyxMhZoQs8mip6clFMc08NZt494/ffp0cU/Jw4cPm8NsfwzDTBwqNTaktmSdj6nZQvFNfEnR5rBhLR173W/KqwS22jkNF6RbZwhtE/U1c/en1liPXxfXPifCQilglI41/F3sI/bVYtV6nwiDLevohAiLsU4RHCrBhtSWFu8OewOmZsDUDBvK0rFrNSolS6dI94vGhdZepG0VDrcWJw+3G6qFxXEYWSdclu7xOBDFOjpLgsfSz1WI3qrWnp5+fR84RIaiSG1p0eVwOGrJEFSvtUeir32pGc6E6q1SSBrXFY1v6ZxaC4drjeu2ipP7BfDm3L9//x//XhpOm7qvra8Nc8NkcX9betMiaEaQ7Fd4bhHnHAsExlo8LcE2ehrjGKXVoSEjwYa0agvRRUMxbiD610Rvy1Qtx9RrhlprVGqLyfWisRw3oqtMke5rTVpnKy2tfRlqfW1pu5jNNRxGim1r+x33mJTuU63GadVhsggeMdTU8h5Fr03sa0nvXV8X1FrMHp+zOIbZTxwSQ1GkVWuc5hqofoXXKeNegfE+W2pUlpg6x1WHuGJ2UMtspdaViedsosYmftc/C6n2WIp4jlMEirF1hqFKr50bJgt9uGkNEqs8giHe45bHR4RNr+ED+0CwIa1aDUc0iFPmGrUINaWC0mGDt4kHIIapBrh0XVHEOneO0QvS+piD0vmU7kHpuvsnZte2WyLew1inZ+qcSgGwFjzWqY9aEm5WLfSNIaxSyB4fY5WaHthXgg1p1Rqn1mLPEI1UTAFurQvZxIrDUyGiZSr1XG/EJgqHS70Vtddu41EKMVwVNSdTw4b/j+G0OfF5aQ03cc9WCR4R6Fpn18X9UUzMoRBsSKul56G1viEaqdh+E/UjraZCRMswz/AJ4K1az712vza1+F9MKe9/olemVBMTYS+CwbA3qjacVrqOdYfiekvCTQwTrvJohrl1eKZEMfGmespglykeJq2Wxikaztr/7Pv1TlobvNp2rWueTDW+Lb0pMQtm3NDXtE5TrzXqm3iUQtSPTM3kiWufqxfpp7T3s4y2WSO0ZOG7Pty0zGSK96zU4za3/76YuOX9jmGvV69eKSYmNcGGlGqzofrGKRqSUhd9PwRV2+ewfqTWMPb7W0XLUFhfL7Pk2/mS3pSS1oLdVY7RF3zPHWPYsG9rOK322il9uGkJH33wWBKe4p5EGGyZaRfH748BWRmKIqXWepIIA6VGZDjbZpsLz7VqHepp7RXqDR9zsOoMmtKjDqJx7wNL7RlapR6L0nvVOpxWCw2l1YpXXVixfyZVTe3ZVnOiXqz1PY/7v2Q1bdg3gg0plXoOxo3TXE3KeMn91tqTba04HFqHWJYMmQxfVws1pXtQ6vnaxDO04tpLD5scvlel6yg9jTvOrfTZWWexu3jv4xlONa3PnRqLnsDWz1ccA7IyFEVKS+pE4tvuVAgYDxm17rO2hs3SAs6+sWqdSh3iz1F0G1O8a5b0IkUdyLhgtV++vxRYhveydB1Xrlz5n9/HfuPel3oy4nxaa1Ni/7Gv8aq/tZWNI5wNrztC1jamUfc1WvG+x3kuCSGtgaifXafWhowEG1JaUsNRWqxvqBYsWo69tCGMxvTly5fV/U71dERgawk2w2/5tYYuzuH169ffglRt+nmIHrHW4uQIC6VemTnjB3PWriPehwgM/Xa1lY3DOOjGvdjUtPWxPqS2nNe6x4BsBBvSWaeGo7TPOa2L261inccc9PVDtW/x49fG62q9Sq2N7bD4urfpexTXOD5GrSg8LAkNsRjeeJhnW6v5DnufSsNm64ggKNiQlRob0lm1hmMT+9z0t+vW2p25sNayps34tUsLj+dEwzketlqnOHnOuBYqxH1bt56pNzeTbVuhY3j/txWeYnE/yEqwIZ1NLK421jqNedMLoLUOcc0NvdSKXYdT33sRCNYNN/0U5008wHNOnHcU4849ITt+t26vRP8cqqn9bCN0xH0froi9rWOs+t8B7ANDUaSzzgJz6+5zE49SmNr3qsNrteGouR6s6KGIcFIrCp46lxi2ibAxFQY2Efxiv9ETFcco1dLE72K9lt9++624/s+UGKqJ/ZeC4SZDRx/SxsfbZA9g3I84xqZ6smBXCTakU1qCf9X/qcc+xwWqU/ssbbfUsNGOhm+uF6VWKBuN2VxPSel+RM9B/EQYiYLePlwNG/Q+VPU/tfsb26zSG9T3LLUWevfi3kTx9fAaIiwMh5Fiv5cuXfrHNbR8TuJ9XnVocyiOOTczb+5BrUstfTYa7LPv/vsf+98dAEACamwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACANwQYASEOwAQDSEGwAgDQEGwAgDcEGAEhDsAEA0hBsAIA0BBsAIA3BBgBIQ7ABANIQbACANAQbACCN/wBV06UDgqqEGgAAAABJRU5ErkJggg==';

export const defaultPreSquareImage =
  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARgAAAEYCAYAAACHjumMAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAwUSURBVHgB7d0PqxtVHsfh6bqWlpZKi9JiaVEsguD7fytCQRCKxVKp3GJRBN3ll+Xszp17zmSS3K+wN88DpX9yk0xuM5+cc2Zyc+vi4uJfE0DAPyaAEIEBYgQGiBEYIEZggBiBAWIEBogRGCBGYIAYgQFiBAaIERggRmCAGIEBYgQGiBEYIEZggBiBAWIEBogRGCBGYIAYgQFiBAaIERggRmCAGIEBYgQGiBEYIEZggBiBAWIEBogRGCBGYIAYgQFiBAaIERggRmCAGIEBYgQGiBEYIEZggBiBAWIEBogRGCBGYIAYgQFiBAaIERggRmCAGIEBYgQGiBEYIEZggBiBAWIEBogRGCBGYIAYgQFiBAaIERggRmCAGIEBYgQGiBEYIEZggBiBAWIEBogRGCBGYIAYgQFiBAaIERggRmCAGIEBYgQGiBEYIEZggBiBAWIEBogRGCBGYIAYgQFiBAaIERggRmCAGIEBYgQGiBEYIEZggBiBAWIEBogRGCBGYIAYgQFiBAaIERggRmCAGIEBYgQGiBEYIEZggBiBAWIEBoj558SN9scff0zffffdlHb37t3dr4cPH07379+foAgM1+K3337b/Xr37t0uMM+ePZtu3749cd5Mkbh2v/766/Ty5ctdbDhvAkPEn3/+Ob169Wp6+/btxPkSGKJev369G9FwngSGuB9++GG32Mz5ERji2nSJ8yMw/C1qmmSqdH4Ehr/NmzdvJs6LwJy5OlelTo5r56zUnx88eLD7871793Z//+ijj1Zvo75uyzkvRjHnR2DOXMXh+fPnu5CU+vPTp093f37y5Mnu7/sC8+LFi+mbb76ZHj9+PO1jFHNeBIZrU0HaF5kawdSiL+dBYLhWFZl970Vyhu/5EBiuXb0Pac379+8nzoPAcO3awvGIadL5EBgiHj16tHp5vfOam09g2KlRRzs8Xero0r6jR2tqHWZtLUZgzoOfB8NOjTjaqKNiU4eeT1WRGp33IjDnwQiGmLURzIcPHyZuPoEhpgIzmmZZ5D0PAkNU/ZzengqMyNx8AkPUnTt3hpcJzM0nMESNRjBFYG4+gSFq7VC3wNx8AnPmtuzkp4RgbQTDzScwZ64OF6/9vNyff/75pMCccrIe//8E5sxVPL7//vvpp59+unJZ/bDuH3/8cTqFwJw3gWE3gumdcXtxcTHBKbxVgGtXo6L2VgALuedNYLh2NbXys3cppkhAjMAAMQIDxAgMECMwQIzAADECA8QIDBAjMECMwAAxAgPECAwQIzBAjMAAMQIDxAgMECMwQIzAMLTlB3b3vsYP+qa5dXFx8a8JIMAIBogRGCBGYIAYH1typurzipafWVSLs70F2kO+9jq1+233ffv27c332dvmNaPHs/axuj21jfyPwKyoj02tz2aeqyfht99+u3q9+kyg+jjWpa+++mq6f//+7nODjvnUxHb9uu3l5w7Vv9flc3UfdV9z9+7dm168eLG7/vKyBw8eTF9++eWV+3316tWV7f3iiy+mTz75ZPNjuXv37u7X48ePV3fC2qF/+eWX6d27d92du65bj3V0O/W43rx5s/vgt0MC8+zZs+nRo0e7P9f16v99tA0jW54b50ZgVvz+++9X/q2efPUkrid5Tz0ha4fsqR2stE89PNTa9Wubatvmr8K9r2vb3bus3f5S72vbzr11B6zbqF+107ZQLtVOXZ+RvRaGur+6jYpa3c58myssvc/Y3mL+eCrgh45cisPzV1mDWTEKwdordj3Je0/ONgSvneeYJ2/tSO36ox3w7du3l/7eC2TbIdcum+ttb23HKbGs71Hv32rEuHXUUV83H4FVYI+Ny9zr16+P+v8pH3/88cRlAjOwNsSuIXxPG1b33Llz57+3e4z25F27/ocPHy79fTTF2HfZXO/+Tn0sy+ldfc9GcajHPdpx6zG0bThmyjlXj73+v0+5HSOYq0yRBtZexXrTpPr6tVfQtanJp59+Oj19+nTaYu0zn+uytl3zD6Bv2shj7bKltalU77KHDx9Oz58/3/25vic1ytgXouU6V7uPmgK1nXa0rlW33UZ3a2q9qIWxpwWmjRJ76rL6vxoZTTHPmcAM7Nsp6pVuHph68q8N79uTbznKKKP1nJ7e1GauBebQkcdo51vb3n3rOLXT1mJsb6G5mY9C5terReR5NOo+67Z7YSyfffbZLlSj/4O6Xi3kroWoBaQ3hSt127du3do9JrYxRRro7Vhz82nSaN1l7tCpyci++2mjgUNHHqNX37Xt3bKO07v+/Gt6I7IK0NbvSQtG/f75558Pv25t8X3uyZMnqyORGqWujSK5zAhmYN+O3KZJZd/i4r5F0RoNjeb+dei07Wy9qc1ou3qBPGYUdWio6rG27109pt5ooEYbW25/y7bMt7u+V3XfoxFI2559I5AaPa0dSaoR2ddff+2clw0EpmN05KRd1tRoYfmkryf88hWuTT9Gr3yjHaLU2kEz2qGX04Laka5jgbe3vfO49KYjL1++nEZqW5fnr2w9mrU1RDUCKaPvab0Y1AhpbVrapmijaW87gjVfI6LPFKljtEZRC5hzyx25nph1strSKYd05zvRaFF1GYeavl3HOTBrazXHHMqtuMxHL6UXsd7O37u/0dGliszaKKXisG/76/uxNuWq783aCwP/ITAdox1wPproqVe0tanJoTvlfDG09F7ta2dchq/3qrsWueX9NGvrJ8fEss4xmR8JOmR6tDVETUVmdMSnjUD2nXNTU661UNV5R8tzj7jMFKljtEYxP9ltqQ3913bKXiB6I5Bm+e+jM2prm/a9mrZX+0MWmdemL73vUXv7QFPntywXVisU7dDyIaOSrVOpuTr0/9dff3XPTaptqODVkaU1Fap6rKPpbd1GbcchRwLPicB0jHbC2pHribRckK3L2tz/0EXR2gm2zuPXbrt3CHeu7QC9HWUUmH1rMKPLmhoB9NapWqBPXeDdct5JC0gvMvVvNeVbTtuWKpy1tjQagVZEa9HXesxVpkgLoyM17cncW2NpbzI8dFF0ywlizb4drLddva8dLVou9U5+q6nU6O0K9e/LUNUO2bvtQ9/HVCE45XtXaymjGNXIb99Uqe5nbUG3HoepUp8RzMK+NYrlOsx8x+pdd21qUkZvLWjau5D3TSdqtLA2TVp7tX///v2lYX4tEvd2mPZu49HRrPljqSlNLwz1vVo7vFv3XdvRzkau2+g9rvn6ypY3J44i0o4Y1u9bzpMZcW5Mn8As7Bsp1I7UdrSl3pN8bWpS97XvSd1effctcrYfYzCaArVX37qt5XuptpyEVrexFpitJ7LNwzDalt5bAkbb0rbnkB/N0Lu9+r4d+ybHdhtcZYq0cMqZtoe+e3mLQ979PDoaNH8bQO2Yh64V1OOf/6yZfWc5j9T2ztc7jtmWNl2ZOyUutTg/PznwWG0NjssEZuGYoxXNoYuiWxyyqDparFyOwGoH3RrNitby64/ZGWvksgzDvtP7e9uyPIP2lDDUNrUwHBupegy1CGwE02eKtFDrGsvzSrYcgqwn6PJ68x/DuG8Rtmf+M2R611+++rczZZc73XL72zuVK4htnWS+g9XltcPUelPvsdeIaO2dyfPtadOZ0UilLqv7qDWfimgFvm1LXaf+P+ry0bbU145GbmvbVTFe3t6ht1PXr9tx9GjM5yIBMaZIQIzAADECA8QIDBAjMECMwAAxAgPECAwQIzBAjMAAMQIDxAgMECMwQIzAADECA8QIDBAjMECMwAAxAgPECAwQIzBAjMAAMQIDxAgMECMwQIzAADECA8QIDBAjMECMwAAxAgPECAwQIzBAjMAAMQIDxAgMECMwQIzAADECA8QIDBAjMECMwAAxAgPECAwQIzBAjMAAMQIDxAgMECMwQIzAADECA8QIDBAjMECMwAAxAgPECAwQIzBAjMAAMQIDxAgMECMwQIzAADECA8QIDBAjMECMwAAxAgPECAwQIzBAjMAAMQIDxAgMECMwQIzAADECA8QIDBAjMECMwAAxAgPECAwQIzBAjMAAMQIDxAgMECMwQIzAADECA8QIDBAjMECMwAAxAgPECAwQIzBAjMAAMQIDxAgMECMwQIzAADECA8QIDBAjMECMwAAxAgPE/BtBuUyvWnONIgAAAABJRU5ErkJggg==';

export const getImageDimensions = (
  imageUrl: string
): Promise<{ width: number; height: number }> => {
  return new Promise((resolve, reject) => {
    const img = new Image();

    // Set up event listeners to handle the image load and error events
    img.onload = () => {
      // Image has loaded successfully
      resolve({ width: img.width, height: img.height });
    };

    img.onerror = (error) => {
      // Image failed to load
      reject(`Error loading image: ${error}`);
    };

    // Set the image source to trigger the loading process
    img.src = imageUrl;
  });
};

export const enlargeImage = (base64Image: string, scaleFactor: number): Promise<string> => {
  return new Promise((resolve, reject) => {
    const img = new Image();
    img.src = base64Image;

    img.onload = () => {
      const canvas = document.createElement('canvas');
      const context = canvas.getContext('2d');

      if (!context) {
        reject(new Error('Could not get 2D context for canvas.'));
        return;
      }

      // Calculate the new dimensions based on the scaleFactor
      const newWidth = img.width * scaleFactor;
      const newHeight = img.height * scaleFactor;

      // Set the canvas size to the new dimensions
      canvas.width = newWidth;
      canvas.height = newHeight;

      // Draw the image on the canvas with the new dimensions
      context.drawImage(img, 0, 0, newWidth, newHeight);

      // Get the base64 representation of the enlarged image
      const enlargedBase64 = canvas.toDataURL('image/jpeg');

      resolve(enlargedBase64);
    };

    img.onerror = () => {
      reject(new Error('Error loading the image.'));
    };
  });
};
